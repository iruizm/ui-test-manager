{"ast":null,"code":"import axios from 'axios';\nimport { inject } from 'vue';\nimport { store } from '../data/store.js';\nexport default {\n  __name: 'ClientAPI',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const eventBus = inject('eventBus');\n    eventBus.on(\"get-sequences\", getSequences);\n    eventBus.on(\"get-patterns\", getPatterns);\n    eventBus.on(\"get-tests\", getTests);\n    eventBus.on(\"save-sequence\", saveSequence);\n    eventBus.on(\"save-pattern\", savePattern);\n    eventBus.on(\"delete-sequence\", deleteSequence);\n    eventBus.on(\"delete-precedent\", deletePrecedent);\n    eventBus.on(\"delete-pattern\", deletePattern);\n    async function getSequences() {\n      try {\n        const res = await axios.get('http://localhost:8080/api/sequences');\n        store.sequences = res.data;\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function getPatterns() {\n      try {\n        const res = await axios.get('http://localhost:8080/api/patterns');\n        store.patterns = res.data;\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function getTests() {\n      try {\n        const res = await axios.get('http://localhost:8080/api/tests');\n        store.tests = res.data;\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function saveSequence(data) {\n      try {\n        await axios.post('http://localhost:8080/api/sequences', data);\n        await getSequences();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function savePattern(data) {\n      try {\n        await axios.post('http://localhost:8080/api/patterns', data);\n        await getPatterns();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function deleteSequence(id) {\n      try {\n        await axios.delete(`http://localhost:8080/api/sequences/${id}`);\n        await getSequences();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function deletePattern(id) {\n      try {\n        await axios.delete(`http://localhost:8080/api/patterns/${id}`);\n        await getPatterns();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    async function deletePrecedent(e) {\n      try {\n        await axios.delete(`http://localhost:8080/api/sequences/${e.idSequence}/${e.idPrecedent}`);\n        await getSequences();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    }\n    const __returned__ = {\n      eventBus,\n      getSequences,\n      getPatterns,\n      getTests,\n      saveSequence,\n      savePattern,\n      deleteSequence,\n      deletePattern,\n      deletePrecedent,\n      get axios() {\n        return axios;\n      },\n      inject,\n      get store() {\n        return store;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","inject","store","eventBus","on","getSequences","getPatterns","getTests","saveSequence","savePattern","deleteSequence","deletePrecedent","deletePattern","res","get","sequences","data","error","console","patterns","tests","post","id","delete","e","idSequence","idPrecedent"],"sources":["/home/irm/Dev/Go/ui-test-manager/ui-test/web/src/services/ClientAPI.vue"],"sourcesContent":["<script setup>\nimport axios from 'axios';\nimport { inject} from 'vue';\nimport { store } from '../data/store.js'\n\nconst eventBus = inject('eventBus')\neventBus.on(\"get-sequences\", getSequences)\neventBus.on(\"get-patterns\", getPatterns)\neventBus.on(\"get-tests\", getTests)\neventBus.on(\"save-sequence\", saveSequence)\neventBus.on(\"save-pattern\", savePattern)\neventBus.on(\"delete-sequence\", deleteSequence)\neventBus.on(\"delete-precedent\", deletePrecedent)\neventBus.on(\"delete-pattern\", deletePattern)\n\nasync function getSequences() {\n  try {\n    const res = await axios.get('http://localhost:8080/api/sequences');\n    store.sequences = res.data\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\nasync function getPatterns() {\n  try {\n    const res = await axios.get('http://localhost:8080/api/patterns');\n    store.patterns = res.data\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\nasync function getTests() {\n  try {\n    const res = await axios.get('http://localhost:8080/api/tests');\n    store.tests = res.data\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\nasync function saveSequence(data) {\n  try {\n    await axios.post('http://localhost:8080/api/sequences', data);\n    await getSequences()\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\nasync function savePattern(data) {\n  try {\n    await axios.post('http://localhost:8080/api/patterns', data);\n    await getPatterns()\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\nasync function deleteSequence(id) {\n  try {\n    await axios.delete(`http://localhost:8080/api/sequences/${id}`);\n    await getSequences()\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\n\nasync function deletePattern(id) {\n  try {\n    await axios.delete(`http://localhost:8080/api/patterns/${id}`);\n    await getPatterns()\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\n\nasync function deletePrecedent(e) {\n  try {\n    await axios.delete(`http://localhost:8080/api/sequences/${e.idSequence}/${e.idPrecedent}`);\n    await getSequences()\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}